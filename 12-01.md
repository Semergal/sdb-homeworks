# Домашнее задание к занятию «Базы данных»

---
### Легенда

Заказчик передал вам [файл в формате Excel](https://github.com/netology-code/sdb-homeworks/blob/main/resources/hw-12-1.xlsx), в котором сформирован отчёт. 

На основе этого отчёта нужно выполнить следующие задания.

### Задание 1

Опишите не менее семи таблиц, из которых состоит база данных:

- какие данные хранятся в этих таблицах;
- какой тип данных у столбцов в этих таблицах, если данные хранятся в PostgreSQL.

Приведите решение к следующему виду:

Сотрудники (

- идентификатор, первичный ключ, serial,
- фамилия varchar(50),
- ...
- идентификатор структурного подразделения, внешний ключ, integer).


1. Сотрудники
   - id (serial, primary key)
   - фамилия (varchar(50))
   - имя (varchar(50)) 
   - отчество (varchar(50))
   - оклад (numeric(12,2))
   - должность (varchar(100))
   - тип_подразделения (varchar(50))
   - id_подразделения (integer, foreign key)
   - дата_найма (date)
   - адрес_филиала (varchar(200))
   - проекты (varchar(500))

2. Подразделения
   - id (serial, primary key)
   - название (varchar(100))
   - тип_подразделения (varchar(50))

3. Проекты
   - id (serial, primary key) 
   - название (varchar(200))
   - заказчик (varchar(100))
   - дата_начала (date)
   - дата_окончания (date)
   - статус (varchar(50))

4. Отпуска
   - id (serial, primary key)
   - id_сотрудника (integer, foreign key)
   - дата_начала (date)
   - дата_окончания (date)
   - тип_отпуска (varchar(50))

5. Командировки 
   - id (serial, primary key)
   - id_сотрудника (integer, foreign key)
   - дата_начала (date)
   - дата_окончания (date)
   - место_назначения (varchar(100))
   - цель (varchar(200))

6. Премии
   - id (serial, primary key)
   - id_сотрудника (integer, foreign key)
   - дата_премии (date)
   - сумма (numeric(12,2))
   - основание (varchar(200))

7. Штрафы
   - id (serial, primary key)
   - id_сотрудника (integer, foreign key) 
   - дата_штрафа (date)
   - сумма (numeric(12,2))
   - основание (varchar(200))





## Дополнительные задания (со звёздочкой*)
Эти задания дополнительные, то есть не обязательные к выполнению, и никак не повлияют на получение вами зачёта по этому домашнему заданию. Вы можете их выполнить, если хотите глубже шире разобраться в материале.


### Задание 2*

Перечислите, какие, на ваш взгляд, в этой денормализованной таблице встречаются функциональные зависимости и какие правила вывода нужно применить, чтобы нормализовать данные.



1. id -> фамилия, имя, отчество, оклад, должность, тип_подразделения, id_подразделения, дата_найма, адрес_филиала, проекты
   - Правило вывода: Ключ (id) определяет все остальные атрибуты в строке.

2. id_подразделения -> тип_подразделения
   - Правило вывода: Внешний ключ (id_подразделения) определяет тип подразделения.

Правила для нормализации данных:

1. Выделить таблицу "Подразделения" с атрибутами id, название, тип_подразделения.
   - Это позволит избавиться от функциональной зависимости id_подразделения -> тип_подразделения.

2. Выделить таблицу "Проекты" с атрибутами id, название, заказчик, дата_начала, дата_окончания, статус.
   - Это позволит вынести информацию о проектах в отдельную таблицу.

3. Создать таблицу "Сотрудники" с атрибутами id, фамилия, имя, отчество, оклад, должность, id_подразделения, дата_найма, адрес_филиала.
   - Это позволит избавиться от атрибута "проекты", который содержит несколько значений для одного сотрудника.

4. Создать таблицу "Назначения_сотрудников_на_проекты" с атрибутами id_сотрудника, id_проекта.
   - Это позволит связать сотрудников и проекты в отдельной таблице многие-ко-многим.


